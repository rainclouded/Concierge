<div class="p-4">
  <button
    class="bg-blue-500 text-white px-4 py-2 rounded mb-4"
    (click)="openAddAccountModal()"
  >
    Add Account
  </button>

  <input
    type="text"
    placeholder="Search by username"
    [(ngModel)]="searchTerm"
    class="border p-2 rounded w-full mb-4"
    (keydown.enter)="searchAccounts()"
  />

  <table class="w-full border-collapse text-left">
    <thead>
      <tr class="bg-gray-100">
        <th class="border p-2">Username</th>
        <th class="border p-2">Type</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let account of filteredAccounts"
        class="cursor-pointer hover:bg-gray-200"
        (click)="openAccountModal(account)"
      >
        <td class="border p-2">{{ account.username }}</td>
        <td class="border p-2">{{ account.type }}</td>
      </tr>
    </tbody>
  </table>

  <div class="flex justify-between mt-4">
    <button
      class="bg-gray-300 px-4 py-2 rounded"
      [disabled]="currentPage === 1"
      (click)="goToPreviousPage()"
    >
      Previous
    </button>
    <button class="bg-gray-300 px-4 py-2 rounded" (click)="goToNextPage()">
      Next
    </button>
  </div>
</div>

<add-account-modal
  *ngIf="isAddAccountModalOpen"
  (close)="closeAddAccountModal()"
  (save)="addNewAccount($event)"
></add-account-modal>

<account-modal
  *ngIf="selectedAccount"
  [account]="selectedAccount"
  (close)="closeAccountModal()"
  (accountDeleted)="fetchAccounts()"
></account-modal>
