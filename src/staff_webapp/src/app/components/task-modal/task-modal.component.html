<!-- Modal backdrop and content -->
<div *ngIf="isOpen" class="fixed z-10 inset-0 bg-black bg-opacity-50 flex justify-center items-center" (click)="closeModal()">
  <!-- Modal content wrapper -->
  <div class="bg-white rounded-lg p-6 w-1/3 shadow-lg border border-gray-300" (click)="$event.stopPropagation()">
    <!-- Modal header -->
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl font-semibold">Task Details</h2>
      <button class="text-2xl font-bold" (click)="closeModal()">Ã—</button>
    </div>

    <!-- Task details content -->
    <div *ngIf="task">
      <p class="mb-1"><strong>Room Number:</strong> {{ task.roomNumber }}</p>
      <p class="mb-1"><strong>Type of Service:</strong> {{ task.typeOfService }}</p>
      <p class="mb-1"><strong>Description:</strong> {{ task.description }}</p>
      <p class="mb-1"><strong>Time Created:</strong> {{ task.timeCreated | date: 'short' }}</p>
      <p class="mb-1"><strong>Assignee:</strong> {{ task.assignee || 'Unassigned' }}</p>
      <p class="mb-1"><strong>Status:</strong> {{ task.status }}</p>

      <!-- Button for assigning and unassigning tasks -->
      <div class="flex justify-end mt-4">
        <button *ngIf="!task.assignee" (click)="assignTask()" class="bg-blue-500 text-white p-2 rounded-lg mr-2">Assign to Me</button>
        <button *ngIf="task.assignee" (click)="unassignTask()" class="bg-red-500 text-white p-2 rounded-lg mr-2">Unassign</button>
        <button *ngIf="task.assignee" (click)="toggleComplete()" class="bg-green-500 text-white p-2 rounded-lg">
          {{ task.status === 'Completed' ? 'Completed' : 'Mark Complete' }}
        </button>
      </div>
    </div>
  </div>
</div>
